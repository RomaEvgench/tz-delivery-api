# Тестовое задание на создание API на Laravel

Для запуска и корректной работы необходимо:
- переименовать файл .env.example в .env и вставить свой API ключ в переменную GEOCODER_API_KEY
- ввести команду 'composer install'
- ввести команду 'docker-compose up --build'
<br />
<br />
Методы API:

| Method  | URL             | Payload                                             | Result                       |
|---------|-----------------|-----------------------------------------------------|------------------------------|
| POST| /order          | json                                                | Создание нового заказа       |
| GET | /order/:uuid    | params: uuid                                        | Получение информации по заказу |
| DELETE | /order/:uuid    | params: uuid                                        | Отмена заказа                |
| GET| /orders/?params | params: offset, limit, status, date_start, date_end | Получение всех заказов       |

<br />

# Description:
 Запрос на создание нового заказа имеет следующую структуру:
```json
{
  "pickup_point": {
    "address": "Кашира, улица Металлургов дом 1",
    "sender_name": "Иванов Иван",
    "sender_phone": "+79999999999"
  },
  "deliveries": [
    {
      "address": "Москва, Парк Горького",
      "receiver_name": "Николаев Николай",
      "receiver_phone": "+78888888888",
      "cargo": [
        {
          "name": "Коробка",
          "weight": 15,
          "size": "30*30*40"
        },
        {
          "name": "Коробка побольше",
          "weight": 25,
          "size": "40*40*50"
        }
      ]
    }
  ],
  "return_point": {
    "address": "Москва, Парк Горького",
    "receiver_name": "Александров Александр",
    "receiver_phone": "+79999999999"
  },
  "price": 3600
}
```

<br />

Описание параметров метода GET/orders:
- limit, ограничение количества заказов
- offset?, количество пропускаемых заказов
- status?, фильтрация по статусам заказов. Доступные статусы : "Новый", "В пути", "Отменен", "Выполнен", "Возвращается", "Возвращен"
- date_start?, фильтрация по дате создания заказа, начальная точка интервала
- date_end?, фильтрация по дате создания заказа, конечная точка интервала
